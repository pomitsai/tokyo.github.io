<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±äº¬è¦ªå­æ¢ç´¢ä¹‹æ—… 2026 | Tokyo Family Odyssey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Chosen Palette: Japan Modern */
        /* Primary: #1e293b (Slate 800) - Stability/Information */
        /* Secondary: #be123c (Rose 700) - Accents/Important (Japan Red) */
        /* Background: #f8fafc (Slate 50) - Clean/Paper */
        /* Highlights: #0ea5e9 (Sky 500) - Interactive Elements */

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            scroll-behavior: smooth;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for horizontal lists */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: #e2e8f0;
            z-index: 0;
        }
        
        .nav-active {
            border-bottom: 2px solid #be123c;
            color: #be123c;
            font-weight: 700;
        }

        .tab-active {
            background-color: #be123c;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(190, 18, 60, 0.4);
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
    <!-- Application Structure Plan: 
         1. Header: Navigation and Trip Summary.
         2. Dashboard: Flight Comparison (Chart.js) & Budget Overview.
         3. Accommodation: Curated Hotel List with "Why it's good for families" tags.
         4. Itinerary (Core): Tabbed interface for Day 1-6. Vertical timeline design for flow.
         5. Dining: Filterable grid for "Must-Eat" spots.
         6. Essentials: Souvenir list & Packing Checklist (Interactive).
         
         Why this structure? It follows the user's planning mental model:
         Get there (Flight) -> Stay there (Hotel) -> What to do (Itinerary) -> What to eat (Food) -> Prepare (Checklist).
    -->
    <!-- Visualization & Content Choices:
         1. Airline Comparison: Bar Chart. Goal: Compare Price vs. Comfort. Interaction: Visual comparison.
         2. Budget Breakdown: Doughnut Chart. Goal: Show cost distribution.
         3. Itinerary: Timeline CSS layout. Goal: Show sequence and travel time.
         4. Food Map: JS Filtering. Goal: Quickly find "Ramen" or "Sweets".
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-600 to-indigo-600">
                        Tokyo 2026
                    </span>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <button onclick="scrollToSection('dashboard')" class="nav-item text-slate-600 hover:text-rose-600 px-3 py-2 text-sm font-medium transition-colors">å„€è¡¨æ¿</button>
                    <button onclick="scrollToSection('transport-stay')" class="nav-item text-slate-600 hover:text-rose-600 px-3 py-2 text-sm font-medium transition-colors">äº¤é€š & ä½å®¿</button>
                    <button onclick="scrollToSection('itinerary')" class="nav-item text-slate-600 hover:text-rose-600 px-3 py-2 text-sm font-medium transition-colors">æ¯æ—¥è¡Œç¨‹</button>
                    <button onclick="scrollToSection('food')" class="nav-item text-slate-600 hover:text-rose-600 px-3 py-2 text-sm font-medium transition-colors">ç¾é£Ÿåœ°åœ–</button>
                    <button onclick="scrollToSection('essentials')" class="nav-item text-slate-600 hover:text-rose-600 px-3 py-2 text-sm font-medium transition-colors">è¡Œå‰æº–å‚™</button>
                </div>
                <!-- Mobile menu button placeholder (simplified for single file) -->
                <div class="flex items-center md:hidden">
                    <button onclick="alert('è«‹ä½¿ç”¨æ¡Œé¢æ¨¡å¼ä»¥ç²å¾—æœ€ä½³é«”é©—ï¼Œæˆ–ç›´æ¥æ²å‹•ç€è¦½ã€‚')" class="text-slate-500 hover:text-slate-700">
                        â˜°
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="bg-indigo-900 text-white py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
        <div class="absolute inset-0 opacity-10 bg-[url('https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?q=80&w=2994&auto=format&fit=crop')] bg-cover bg-center"></div>
        <div class="max-w-7xl mx-auto relative z-10 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">æ±äº¬è¦ªå­æ¢ç´¢ä¹‹æ—…</h1>
            <p class="text-indigo-200 text-lg md:text-xl max-w-2xl mx-auto">
                å‡ºç™¼åœ°: å°ä¸­ (ç¶“æ¡ƒåœ’) | æ—¥æœŸ: 2026/6/16 - 6/21 | 6å¤©5å¤œ
            </p>
            <div class="mt-8 flex justify-center gap-4 flex-wrap">
                <span class="px-4 py-2 bg-white/10 rounded-full text-sm backdrop-blur-sm border border-white/20">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ è¦ªå­å‹å–„</span>
                <span class="px-4 py-2 bg-white/10 rounded-full text-sm backdrop-blur-sm border border-white/20">ğŸ¢ è¿ªå£«å°¼æ¨‚åœ’</span>
                <span class="px-4 py-2 bg-white/10 rounded-full text-sm backdrop-blur-sm border border-white/20">ğŸ£ ç¾é£Ÿå·¡ç¦®</span>
                <span class="px-4 py-2 bg-white/10 rounded-full text-sm backdrop-blur-sm border border-white/20">ğŸ›ï¸ é«˜ CP å€¼</span>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-20">

        <!-- SECTION 1: DASHBOARD -->
        <section id="dashboard" class="animate-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-rose-600 pl-4">è¦åŠƒå„€è¡¨æ¿</h2>
                <p class="mt-2 text-slate-600">æ—…ç¨‹é ç®—ä¼°ç®—èˆ‡ 6 æœˆå¤©æ°£æ¦‚æ³ã€‚é›–ç„¶ 6 æœˆæ˜¯æ—¥æœ¬çš„æ¢…é›¨å­£ï¼Œä½†æˆ‘å€‘å®‰æ’äº†è¨±å¤šå®¤å…§å‚™æ¡ˆï¼ˆå¦‚åšç‰©é¤¨ã€å®¤å…§æ¨‚åœ’ï¼‰ï¼Œç¢ºä¿è¡Œç¨‹ä¸å—å½±éŸ¿ã€‚</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Flight Comparison Chart -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-semibold mb-4 text-slate-700">âœˆï¸ å°ä¸­å‡ºç™¼ï¼šèˆªç©ºæ–¹æ¡ˆæ¯”è¼ƒ (å°ä¸­ RMQ vs æ¡ƒåœ’ TPE)</h3>
                    <div class="chart-container">
                        <canvas id="flightChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-slate-500 bg-slate-50 p-3 rounded-lg">
                        <strong>åˆ†æå»ºè­°ï¼š</strong> é›–ç„¶å°ä¸­æ©Ÿå ´ (RMQ) é›¢å®¶è¿‘ï¼Œä½†èˆªç­æ¥µå°‘ä¸”æ™‚é–“ä¸ä½³ã€‚å¼·çƒˆå»ºè­°æ­ä¹˜é«˜éµè‡³<strong>æ¡ƒåœ’æ©Ÿå ´ (TPE)</strong>ï¼Œé¸æ“‡æ˜Ÿå®‡æˆ–é•·æ¦®ï¼Œæ™‚é–“é¸æ“‡å¤šä¸”æœå‹™ç©©å®šï¼Œé©åˆè¦ªå­åŒè¡Œã€‚
                    </div>
                </div>

                <!-- Weather & Budget -->
                <div class="grid grid-cols-1 gap-6">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between">
                        <h3 class="text-lg font-semibold mb-4 text-slate-700">ğŸŒ¥ï¸ 2026å¹´6æœˆ æ±äº¬å¤©æ°£é æ¸¬</h3>
                        <div class="flex items-center justify-around">
                            <div class="text-center">
                                <div class="text-4xl">â˜”</div>
                                <div class="font-bold text-slate-700 mt-2">æ¢…é›¨å­£</div>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl font-bold text-indigo-600">23Â°C</div>
                                <div class="text-sm text-slate-500">å¹³å‡æ°£æº«</div>
                            </div>
                            <div class="space-y-2 text-sm text-slate-600">
                                <p>æœ€é«˜: 26Â°C</p>
                                <p>æœ€ä½: 19Â°C</p>
                                <p class="text-rose-500">æ¿•åº¦é«˜ï¼Œéœ€å‚™é›¨å…·</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-2 text-slate-700">ğŸ’° é ç®—ä¼°ç®— (2å¤§2å°)</h3>
                        <div class="flex items-center space-x-4 mb-4">
                            <div class="w-full bg-slate-200 rounded-full h-4 overflow-hidden">
                                <div class="bg-indigo-500 h-4" style="width: 40%"></div> <!-- Flight -->
                                <div class="bg-rose-500 h-4" style="width: 30%"></div> <!-- Hotel -->
                                <div class="bg-amber-400 h-4" style="width: 20%"></div> <!-- Food/Play -->
                                <div class="bg-emerald-400 h-4" style="width: 10%"></div> <!-- Shopping -->
                            </div>
                        </div>
                        <ul class="text-sm text-slate-600 space-y-1">
                            <li class="flex justify-between"><span class="flex items-center"><span class="w-3 h-3 rounded-full bg-indigo-500 mr-2"></span>æ©Ÿç¥¨ (æ˜Ÿå®‡/é•·æ¦®)</span> <span>ç´„ NT$ 60,000</span></li>
                            <li class="flex justify-between"><span class="flex items-center"><span class="w-3 h-3 rounded-full bg-rose-500 mr-2"></span>ä½å®¿ (5æ™š)</span> <span>ç´„ NT$ 45,000</span></li>
                            <li class="flex justify-between"><span class="flex items-center"><span class="w-3 h-3 rounded-full bg-amber-400 mr-2"></span>é¤é£²/é–€ç¥¨/äº¤é€š</span> <span>ç´„ NT$ 35,000</span></li>
                            <li class="flex justify-between font-bold pt-2 border-t border-slate-100"><span>ç¸½è¨ˆé ä¼°</span> <span>NT$ 140,000+</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: TRANSPORT & ACCOMMODATION -->
        <section id="transport-stay" class="animate-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-rose-600 pl-4">äº¤é€šèˆ‡ä½å®¿æ–¹æ¡ˆ</h2>
                <p class="mt-2 text-slate-600">é‡å°è¦ªå­éŠçš„ä¾¿åˆ©æ€§ï¼Œæˆ‘å€‘æŒ‘é¸äº†ã€Œä¸Šé‡/æ·ºè‰ã€å€ä½œç‚ºä¸»è¦ä½å®¿åŸºåœ°ï¼Œæ–¹ä¾¿å¾€è¿”æ©Ÿå ´èˆ‡è¿ªå£«å°¼ã€‚</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Transport Strategy -->
                <div class="md:col-span-1 bg-gradient-to-br from-slate-50 to-indigo-50 p-6 rounded-2xl border border-indigo-100">
                    <h3 class="text-xl font-bold text-indigo-800 mb-4">ğŸš† äº¤é€šæ”»ç•¥</h3>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-1">å»ç¨‹ï¼šå°ä¸­ â†’ æ¡ƒåœ’ â†’ æˆç”°</h4>
                            <p class="text-sm text-slate-600">
                                1. é«˜éµ: å°ä¸­ç«™ â†’ æ¡ƒåœ’ç«™ (40åˆ†)<br>
                                2. æ©Ÿæ·: æ¡ƒåœ’é«˜éµ â†’ æ©Ÿå ´ (20åˆ†)<br>
                                3. é£›æ©Ÿ: æ˜Ÿå®‡ JX800 (08:30èµ·é£›)<br>
                                4. æŠµé”: æ±äº¬æˆç”° (12:45æŠµé”)
                            </p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-1">å¸‚å€ç§»å‹•ï¼šè¥¿ç“œå¡ (Suica)</h4>
                            <p class="text-sm text-slate-600">
                                å»ºè­°å…¨å®¶ç¶å®š iPhone Apple Pay è¥¿ç“œå¡ï¼Œæˆ–è³¼è²·å…’ç«¥ç‰ˆå¯¦é«”å¡ã€‚ä¸»è¦æ­ä¹˜ï¼šéŠ€åº§ç·šã€å±±æ‰‹ç·šã€‚
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Hotel Recommendations -->
                <div class="md:col-span-2">
                    <h3 class="text-xl font-bold text-slate-800 mb-4">ğŸ¨ ç²¾é¸ 10 é–“è¦ªå­ä½å®¿ (ä¸Šé‡/æ·ºè‰/è¿ªå£«å°¼å‘¨é‚Š)</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 h-[400px] overflow-y-auto pr-2 custom-scrollbar" id="hotel-list">
                        <!-- Hotels will be populated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ITINERARY (TIMELINE) -->
        <section id="itinerary" class="animate-section">
            <div class="mb-8 flex flex-col md:flex-row md:items-center justify-between">
                <div>
                    <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-rose-600 pl-4">æ¯æ—¥è¡Œç¨‹è¦åŠƒ</h2>
                    <p class="mt-2 text-slate-600">å‹•ç·šå„ªåŒ–ï¼šä¸Šé‡ç‚ºä¸­å¿ƒ â†’ è¿ªå£«å°¼å…¨æ—¥ â†’ æ·ºè‰æ™´ç©ºå¡” â†’ çŸ¥è­˜åšç‰©é¤¨ â†’ æ¾€è°·æ–°å®¿ â†’ è¿”ç¨‹ã€‚</p>
                </div>
                <!-- Day Tabs -->
                <div class="mt-4 md:mt-0 flex space-x-2 overflow-x-auto pb-2 hide-scroll">
                    <button onclick="switchDay(1)" id="tab-day1" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap tab-active">Day 1: æŠµé”èˆ‡æ¢ç´¢</button>
                    <button onclick="switchDay(2)" id="tab-day2" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap">Day 2: è¿ªå£«å°¼å¤¢å¹»</button>
                    <button onclick="switchDay(3)" id="tab-day3" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap">Day 3: ä¸‹ç”ºèˆ‡å¯¶å¯å¤¢</button>
                    <button onclick="switchDay(4)" id="tab-day4" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap">Day 4: ç§‘å­¸èˆ‡æœªä¾†</button>
                    <button onclick="switchDay(5)" id="tab-day5" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap">Day 5: æ½®æµèˆ‡ç¶ æ„</button>
                    <button onclick="switchDay(6)" id="tab-day6" class="day-tab px-4 py-2 rounded-full text-sm font-bold bg-white text-slate-600 hover:bg-slate-100 border border-slate-200 transition-all shadow-sm whitespace-nowrap">Day 6: è£œè²¨èˆ‡è¿”å®¶</button>
                </div>
            </div>

            <!-- Timeline Content -->
            <div class="relative bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10 min-h-[500px]">
                <div id="timeline-container" class="relative max-w-3xl mx-auto">
                    <!-- Content injected by JS -->
                </div>
            </div>
        </section>

        <!-- SECTION 4: FOOD MAP -->
        <section id="food" class="animate-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-4 border-rose-600 pl-4">æ±äº¬å¿…åƒç¾é£Ÿåœ°åœ–</h2>
                <p class="mt-2 text-slate-600">ç²¾é¸ 20+ é–“é©åˆè¦ªå­ä¸”å…·å‚™æ±äº¬ç‰¹è‰²çš„é¤é£²ï¼ŒåŒ…å«è¿´è½‰å£½å¸ã€æ‹‰éºµã€ç”œé»ååº—ã€‚</p>
            </div>

            <!-- Filter Buttons -->
            <div class="flex flex-wrap gap-2 mb-6">
                <button onclick="filterFood('all')" class="food-filter px-4 py-1.5 rounded-full text-sm bg-slate-800 text-white hover:bg-slate-700 transition-colors active-filter" data-type="all">å…¨éƒ¨</button>
                <button onclick="filterFood('ramen')" class="food-filter px-4 py-1.5 rounded-full text-sm bg-white border border-slate-300 text-slate-600 hover:bg-amber-50 hover:border-amber-300 transition-colors" data-type="ramen">ğŸœ æ‹‰éºµ/æ²¾éºµ</button>
                <button onclick="filterFood('sushi')" class="food-filter px-4 py-1.5 rounded-full text-sm bg-white border border-slate-300 text-slate-600 hover:bg-rose-50 hover:border-rose-300 transition-colors" data-type="sushi">ğŸ£ å£½å¸/æµ·é®®</button>
                <button onclick="filterFood('meat')" class="food-filter px-4 py-1.5 rounded-full text-sm bg-white border border-slate-300 text-slate-600 hover:bg-red-50 hover:border-red-300 transition-colors" data-type="meat">ğŸ¥© ç‡’è‚‰/ç‚¸ç‰›æ’</button>
                <button onclick="filterFood('cafe')" class="food-filter px-4 py-1.5 rounded-full text-sm bg-white border border-slate-300 text-slate-600 hover:bg-emerald-50 hover:border-emerald-300 transition-colors" data-type="cafe">ğŸ° ç”œé»/å’–å•¡</button>
            </div>

            <!-- Food Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="food-grid">
                <!-- Injected by JS -->
            </div>
        </section>

        <!-- SECTION 5: ESSENTIALS (Souvenirs & Checklist) -->
        <section id="essentials" class="animate-section">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <!-- Souvenirs -->
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                        <span class="bg-rose-100 text-rose-600 p-2 rounded-lg mr-3">ğŸ</span> 2026 å¿…è²·ä¼´æ‰‹ç¦®
                    </h2>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start space-x-4 card-hover">
                            <div class="text-3xl">ğŸ§€</div>
                            <div>
                                <h4 class="font-bold">New York Perfect Cheese</h4>
                                <p class="text-sm text-slate-500">æ±äº¬è»Šç«™æ’éšŠååº—ï¼Œå¥¶æ²¹èµ·å¸è„†é¤…ï¼Œå£æ„Ÿå±¤æ¬¡è±å¯Œã€‚</p>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start space-x-4 card-hover">
                            <div class="text-3xl">ğŸŒ</div>
                            <div>
                                <h4 class="font-bold">æ±äº¬é¦™è•‰ (çš®å¡ä¸˜/å“†å•¦Aå¤¢ç‰ˆ)</h4>
                                <p class="text-sm text-slate-500">ä¸åªæ˜¯ç¶“å…¸æ¬¾ï¼Œé‚„æœ‰å„ç¨®è¯åé™å®šå£å‘³ï¼Œå­©å­æœ€æ„›ã€‚</p>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start space-x-4 card-hover">
                            <div class="text-3xl">ğŸª</div>
                            <div>
                                <h4 class="font-bold">Press Butter Sand</h4>
                                <p class="text-sm text-slate-500">ç„¦ç³–å¥¶æ²¹å¤¾å¿ƒé¤…ï¼Œå£æ„Ÿç´®å¯¦ï¼ŒåŒ…è£æ¥µå…·è¨­è¨ˆæ„Ÿã€‚</p>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start space-x-4 card-hover">
                            <div class="text-3xl">ğŸ§ˆ</div>
                            <div>
                                <h4 class="font-bold">Echire Maison du Beurre</h4>
                                <p class="text-sm text-slate-500">è‰¾è¨±å¥¶æ²¹è²»å—é›ªï¼Œä½æ–¼ä¸¸ä¹‹å…§ï¼Œç¨å¾®æ˜‚è²´ä½†çµ•å°å€¼å¾—ã€‚</p>
                            </div>
                        </div>
                         <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start space-x-4 card-hover">
                            <div class="text-3xl">ğŸ“</div>
                            <div>
                                <h4 class="font-bold">Audrey è‰è“èŠ±æŸé¤…ä¹¾</h4>
                                <p class="text-sm text-slate-500">é€ å‹åƒå°èŠ±æŸï¼Œä¹¾ç‡¥è‰è“é…ä¸Šå¥¶æ²¹ï¼Œæ¥µåº¦å¤¢å¹»ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Checklist -->
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                        <span class="bg-indigo-100 text-indigo-600 p-2 rounded-lg mr-3">ğŸ“</span> è¡Œå‰æº–å‚™æ¸…å–®
                    </h2>
                    <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                        <div class="p-4 bg-slate-50 border-b border-slate-100 flex justify-between items-center">
                            <span class="font-semibold text-slate-600">å®Œæˆé€²åº¦</span>
                            <span id="progress-text" class="text-indigo-600 font-bold">0%</span>
                        </div>
                        <div class="w-full bg-slate-200 h-1.5">
                            <div id="progress-bar" class="bg-indigo-500 h-1.5 transition-all duration-500" style="width: 0%"></div>
                        </div>
                        <div class="p-6 space-y-3" id="checklist-container">
                            <!-- JS injected checkboxes -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 py-10 mt-20">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="mb-2">Tokyo Family Trip Planner 2026</p>
            <p class="text-sm text-slate-500">Designed for Educational Purposes. Links open in Google Maps.</p>
        </div>
    </footer>

    <script>
        // --- DATA STORE ---
        const hotels = [
            { name: "MIMARU TOKYO UENO NORTH", type: "å…¬å¯“å¼", price: "$$$", tags: ["å»šæˆ¿", "Pokemonæˆ¿", "å¯¬æ•"], link: "https://maps.app.goo.gl/ueno" },
            { name: "Tobu Hotel Levant Tokyo", type: "é£¯åº—", price: "$$", tags: ["è¿ªå£«å°¼æ¥é§è»Š", "æ™´ç©ºå¡”æ™¯"], link: "https://maps.app.goo.gl/tobu" },
            { name: "Onyado Nono Asakusa", type: "æº«æ³‰é£¯åº—", price: "$$", tags: ["å…è²»å®µå¤œ", "æ¦»æ¦»ç±³", "æº«æ³‰"], link: "https://maps.app.goo.gl/nono" },
            { name: "Hotel Sardonyx Ueno", type: "å•†å‹™", price: "$", tags: ["CPå€¼é«˜", "å…è²»æ—©é¤", "äº¤é€šä¾¿"], link: "https://maps.app.goo.gl/sardonyx" },
            { name: "Mitsui Garden Hotel Ueno", type: "é£¯åº—", price: "$$", tags: ["ç†Šè²“ä¸»é¡Œ", "è»Šç«™å°é¢"], link: "https://maps.app.goo.gl/mitsui" },
            { name: "Richmond Hotel Premier Asakusa", type: "é£¯åº—", price: "$$", tags: ["æ™¯è§€ä½³", "æ¨“ä¸‹Uniqlo"], link: "https://maps.app.goo.gl/richmond" },
            { name: "Grand Nikko Tokyo Bay", type: "åº¦å‡æ‘", price: "$$$", tags: ["è¿ªå£«å°¼å…¬èª", "è±ªè¯"], link: "https://maps.app.goo.gl/nikko" },
            { name: "Tokyo Bay Shiomi Prince Hotel", type: "é£¯åº—", price: "$$", tags: ["å¤§æµ´å ´", "è¿ªå£«å°¼ä¸­ç¹¼é»"], link: "https://maps.app.goo.gl/shiomi" },
            { name: "The Gate Hotel Kaminarimon", type: "ç²¾å“", price: "$$$", tags: ["é›·é–€æ­£å°é¢", "éœ²å°"], link: "https://maps.app.goo.gl/gate" },
            { name: "APA Hotel & Resort Ryogoku", type: "å¡”æ¨“", price: "$", tags: ["å¤§æµ´å ´", "ä¾¿å®œ", "é«˜æ¨“å±¤"], link: "https://maps.app.goo.gl/apa" }
        ];

        const itineraryData = {
            1: [
                { time: "06:00", title: "å°ä¸­å‡ºç™¼", icon: "ğŸš„", desc: "æ­ä¹˜ç¬¬ä¸€ç­é«˜éµå‰å¾€æ¡ƒåœ’ç«™ (ç´„40åˆ†)ã€‚", type: "transport" },
                { time: "08:30", title: "é£›å¾€æ±äº¬ (JX800)", icon: "âœˆï¸", desc: "æ­ä¹˜æ˜Ÿå®‡èˆªç©ºï¼Œäº«å—ç²¾ç·»æ©Ÿä¸Šé¤èˆ‡å¨›æ¨‚ç³»çµ±ã€‚", type: "transport" },
                { time: "12:45", title: "æŠµé”æ±äº¬æˆç”°", icon: "ğŸ›¬", desc: "å…¥å¢ƒæ‰‹çºŒã€é ˜å–è¡Œæã€è³¼è²· Skyliner è»Šç¥¨ã€‚", type: "transport" },
                { time: "14:30", title: "Check-in ä¸Šé‡é£¯åº—", icon: "ğŸ¨", desc: "æ­ä¹˜äº¬æˆ Skyliner ç›´é”ä¸Šé‡ (41åˆ†)ã€‚å¯„æ”¾è¡Œæã€‚", type: "stay" },
                { time: "16:00", title: "é˜¿ç¾æ©«ä¸", icon: "ğŸ›ï¸", desc: "æ„Ÿå—ç†±é¬§æ°£æ°›ï¼Œè³¼è²·æ°´æœã€é›¶é£Ÿã€‚å¿…åƒï¼šéµç«ä¸¼ã€æ°´æœä¸²ã€‚", link: "https://maps.app.goo.gl/ameyoko", type: "activity" },
                { time: "18:30", title: "ä¸€è˜­æ‹‰éºµ (ä¸Šé‡åº—)", icon: "ğŸœ", desc: "ç¶“å…¸è±šéª¨æ‹‰éºµï¼Œè®“å­©å­é«”é©—ç¨ç«‹åº§ä½æ¨‚è¶£ã€‚", link: "https://maps.app.goo.gl/ichiran", type: "food" }
            ],
            2: [
                { time: "07:30", title: "å‡ºç™¼è¿ªå£«å°¼", icon: "ğŸšŒ", desc: "æ­ä¹˜é£¯åº—æ¥é§è»Šæˆ–é›»è»Š (æ—¥æ¯”è°·ç·šâ†’å…«ä¸å €è½‰äº¬è‘‰ç·š)ã€‚", type: "transport" },
                { time: "08:30", title: "æ±äº¬è¿ªå£«å°¼æ¨‚åœ’", icon: "ğŸ°", desc: "å…¨æ—¥éŠç©ï¼å¿…ç©ï¼šç¾å¥³èˆ‡é‡ç¸ (å»ºè­°è²·DPA)ã€æ¯éºµæ­¡æ¨‚ä¹‹æ—…ã€å·´æ–¯å…‰å¹´ã€‚éŠè¡Œï¼šå’Œè«§è‰²å½©ã€‚", link: "https://maps.app.goo.gl/disney", type: "highlight" },
                { time: "12:00", title: "åœ’å€åˆé¤", icon: "ğŸ”", desc: "ç´…å¿ƒå¥³ç‹å®´æœƒå¤§å»³ (æ¼¢å ¡æ’) æˆ– æ˜æ—¥ä¸–ç•Œéœ²å° (ç±³å¥‡æ¼¢å ¡)ã€‚", type: "food" },
                { time: "19:30", title: "å¤œé–“éŠè¡Œ & ç…™ç«", icon: "âœ¨", desc: "å¤¢å¹»ä¹‹å…‰é›»å­å¤§éŠè¡Œï¼ŒçµæŸå®Œç¾çš„ä¸€å¤©ã€‚", type: "highlight" },
                { time: "21:30", title: "è¿”å›é£¯åº—", icon: "ğŸ’¤", desc: "è…¿ç— çš„ä¸€å¤©ï¼Œå»ºè­°ä½¿ç”¨ä¼‘è¶³æ™‚é–“ã€‚", type: "transport" }
            ],
            3: [
                { time: "09:00", title: "é›·é–€ & æ·ºè‰å¯º", icon: "ğŸ®", desc: "æ±äº¬æœ€å¤è€å¯ºå»Ÿã€‚ä»²è¦‹ä¸–é€šåƒäººå½¢ç‡’ã€ç‚¸è‚‰é¤…ã€‚æ±‚å€‹å¾¡å®ˆä¿å¹³å®‰ã€‚", link: "https://maps.app.goo.gl/sensoji", type: "activity" },
                { time: "11:30", title: "æ·ºè‰ä»ŠåŠ (å£½å–œç‡’)", icon: "ğŸ¥©", desc: "ç™¾å¹´è€åº—ï¼Œå…¥å£å³åŒ–çš„é ‚ç´šå’Œç‰›åˆé–“å¥—é¤ (CPå€¼è¼ƒé«˜)ã€‚", link: "https://maps.app.goo.gl/imahan", type: "food" },
                { time: "14:00", title: "éš…ç”°å·æ­¥é“ & æ™´ç©ºå¡”", icon: "ğŸ—¼", desc: "æ•£æ­¥éæ©‹ï¼Œå‰å¾€æ™´ç©ºå¡”ã€‚åƒè§€ 4F å¯¶å¯å¤¢ä¸­å¿ƒ (Pokemon Center)ã€‚", link: "https://maps.app.goo.gl/skytree", type: "activity" },
                { time: "16:00", title: "å¢¨ç”°æ°´æ—é¤¨", icon: "ğŸ§", desc: "ä½æ–¼æ™´ç©ºå¡”å…§ï¼Œç²¾ç·»çš„éƒ½å¸‚æ°´æ—é¤¨ï¼ŒèŠ±åœ’é°»å’Œä¼éµæ˜¯çœ‹é»ã€‚", link: "https://maps.app.goo.gl/aquarium", type: "activity" },
                { time: "18:30", title: "å…­å˜èˆ (æ²¾éºµ)", icon: "ğŸœ", desc: "æ™´ç©ºå¡” Solamachi 6Fï¼Œè¶…æ¿ƒåšè±šéª¨é­šä»‹æ²¾éºµã€‚", link: "https://maps.app.goo.gl/rokurinsha", type: "food" }
            ],
            4: [
                { time: "09:30", title: "åœ‹ç«‹ç§‘å­¸åšç‰©é¤¨", icon: "ğŸ¦•", desc: "ä¸Šé‡å…¬åœ’å…§ã€‚360åº¦åŠ‡å ´ã€æé¾åŒ–çŸ³ï¼Œæ¥µå…·æ•™è‚²æ„ç¾©ã€‚", link: "https://maps.app.goo.gl/kahaku", type: "activity" },
                { time: "12:30", title: "ä¸Šé‡å‹•ç‰©åœ’", icon: "ğŸ¼", desc: "çœ‹ç†Šè²“ã€åŒ—æ¥µç†Šã€‚åœ’å€ä¸å¤§é©åˆå°å­©ã€‚", link: "https://maps.app.goo.gl/uenozoo", type: "activity" },
                { time: "15:30", title: "ç§»å‹•è‡³å°å ´", icon: "ğŸš†", desc: "æ­ä¹˜éŠ€åº§ç·šè‡³æ–°æ©‹ï¼Œè½‰ä¹˜ç™¾åˆæµ·é·—è™Ÿ (é¢¨æ™¯å„ªç¾)ã€‚", type: "transport" },
                { time: "16:30", title: "å°å ´ç¨è§’ç¸é‹¼å½ˆ", icon: "ğŸ¤–", desc: "DiverCity Tokyo Plaza å‰ï¼Œæ•´é»æœ‰è®Šèº«ç§€ã€‚", link: "https://maps.app.goo.gl/gundam", type: "activity" },
                { time: "18:00", title: "ç¯‰åœ°ç‰å£½å¸ (å°å ´åº—)", icon: "ğŸ£", desc: "å£½å¸åƒåˆ°é£½æˆ–å–®é»ï¼Œé€™å®¶æ™¯è§€ä¸éŒ¯ã€‚", link: "https://maps.app.goo.gl/tamasushi", type: "food" }
            ],
            5: [
                { time: "10:00", title: "SHIBUYA SKY", icon: "ğŸ™ï¸", desc: "æ¾€è°·æ–°åœ°æ¨™ï¼Œ360åº¦ç„¡æ­»è§’ä¿¯ç°æ±äº¬ã€‚éœ€æå‰ä¸€å€‹æœˆé ç´„ã€‚", link: "https://maps.app.goo.gl/shibuyasky", type: "highlight" },
                { time: "12:00", title: "æ¾€è°·æŒ½è‚‰èˆ‡ç±³", icon: "ğŸš", desc: "ç›®å‰æœ€ç´…çš„æ¼¢å ¡æ’ (éœ€æ—©èµ·é ˜æ•´ç†åˆ¸æˆ–é ç´„)ï¼Œå‚™æ¡ˆï¼šæ¥µå‘³è€¶ã€‚", link: "https://maps.app.goo.gl/hikiniku", type: "food" },
                { time: "14:30", title: "åŸå®¿ & ç«¹ä¸‹é€š", icon: "ğŸ­", desc: "å¹´è¼•äººæ–‡åŒ–ä¸­å¿ƒã€‚åƒå½©è™¹æ£‰èŠ±ç³–ã€é€›å¤§å‰µæ——è‰¦åº—ã€‚", link: "https://maps.app.goo.gl/harajuku", type: "activity" },
                { time: "16:30", title: "æ–°å®¿å¾¡è‹‘", icon: "ğŸŒ³", desc: "åŸå¸‚ç¶ æ´²ï¼Œè®“å­©å­è·‘è·³æ”¾é›»ï¼Œå®¶é•·ä¼‘æ¯ã€‚", link: "https://maps.app.goo.gl/gyoen", type: "activity" },
                { time: "19:00", title: "é³¥è²´æ— (æ–°å®¿)", icon: "ğŸ¢", desc: "å‡ä¸€åƒ¹ä¸²ç‡’å±…é…’å±‹ï¼Œæ°£æ°›è¼•é¬†ï¼Œé©åˆå®¶åº­é«”é©—æ—¥å¼å±…é…’å±‹ã€‚", link: "https://maps.app.goo.gl/torikizoku", type: "food" }
            ],
            6: [
                { time: "09:00", title: "Check-out", icon: "ğŸ§³", desc: "è¾¦ç†é€€æˆ¿ï¼Œè¡Œæå¯„æ”¾æ«ƒå°ã€‚", type: "stay" },
                { time: "10:00", title: "ä¸Šé‡æ©è³œå…¬åœ’æ•£ç­–", icon: "ğŸŒ²", desc: "æœ€å¾Œçš„æ‚ é–’æ™‚å…‰ï¼Œåƒè§€ä¸å¿æ± ã€‚", type: "activity" },
                { time: "11:30", title: "æ•˜æ•˜è‹‘ç‡’è‚‰ (ä¸Šé‡)", icon: "ğŸ¥©", desc: "åˆé–“å¥—é¤CPå€¼é«˜ï¼Œå®Œç¾çš„å‘Šåˆ¥åˆé¤ã€‚", link: "https://maps.app.goo.gl/jojoen", type: "food" },
                { time: "13:30", title: "æ­ä¹˜ Skyliner", icon: "ğŸš„", desc: "å‰å¾€æˆç”°æ©Ÿå ´ã€‚", type: "transport" },
                { time: "16:00", title: "é£›å¾€å°åŒ— (JX803)", icon: "âœˆï¸", desc: "æ»¿è¼‰å›æ†¶èˆ‡ä¼´æ‰‹ç¦®å›å®¶ã€‚", type: "transport" }
            ]
        };

        const foods = [
            { name: "ä¸€è˜­æ‹‰éºµ", type: "ramen", desc: "å°ç£äººæœ€æ„›ï¼Œè±šéª¨æ¹¯é ­å¯å®¢è£½ã€‚", link: "https://maps.app.goo.gl/1", area: "ä¸Šé‡/å„åœ°" },
            { name: "AFURI é˜¿å¤«åˆ©", type: "ramen", desc: "æŸšå­é¹½æ‹‰éºµï¼Œæ¸…çˆ½ä¸æ²¹è†©ï¼Œå¥³æ€§æœ€æ„›ã€‚", link: "https://maps.app.goo.gl/2", area: "åŸå®¿/æ–°å®¿" },
            { name: "å…­å˜èˆ", type: "ramen", desc: "è¶…æ¿ƒåšæ²¾éºµï¼Œéºµæ¢Qå½ˆã€‚", link: "https://maps.app.goo.gl/3", area: "æ™´ç©ºå¡”/æ±äº¬ç«™" },
            { name: "éºµå±‹æ­¦è—", type: "ramen", desc: "å¤§å¡Šè§’ç…®è‚‰ï¼Œæ¹¯é ­æ¿ƒéƒã€‚", link: "https://maps.app.goo.gl/4", area: "ä¸Šé‡/æ–°å®¿" },
            { name: "å£½å¸éƒ (Sushiro)", type: "sushi", desc: "å¹³åƒ¹è¿´è½‰å£½å¸ï¼ŒAPPé ç´„å…æ’éšŠã€‚", link: "https://maps.app.goo.gl/5", area: "ä¸Šé‡/å„åœ°" },
            { name: "ç¾ç™»åˆ©å£½å¸", type: "sushi", desc: "CPå€¼æ¥µé«˜ï¼Œé£Ÿææ–°é®®å¤§å¡Šã€‚", link: "https://maps.app.goo.gl/6", area: "æ¾€è°·/éŠ€åº§" },
            { name: "æ ¹å®¤èŠ±ä¸¸", type: "sushi", desc: "ä¾†è‡ªåŒ—æµ·é“çš„è¿´è½‰å£½å¸ï¼Œæ’éšŠååº—ã€‚", link: "https://maps.app.goo.gl/7", area: "æ±äº¬è»Šç«™" },
            { name: "æ·ºè‰ä»ŠåŠ", type: "meat", desc: "ç™¾å¹´å£½å–œç‡’è€åº—ï¼Œåˆé¤åˆ’ç®—ã€‚", link: "https://maps.app.goo.gl/8", area: "æ·ºè‰" },
            { name: "æ•˜æ•˜è‹‘", type: "meat", desc: "é«˜ç´šç‡’è‚‰ï¼Œåˆé–“å¥—é¤æ˜¯å…¥é–€é¦–é¸ã€‚", link: "https://maps.app.goo.gl/9", area: "ä¸Šé‡/æ–°å®¿" },
            { name: "ç‰›ã‹ã¤ ã‚‚ã¨æ‘", type: "meat", desc: "ç‚¸ç‰›æ’ï¼Œè‡ªå·±åœ¨çŸ³æ¿ä¸Šçƒ¤ã€‚", link: "https://maps.app.goo.gl/10", area: "ä¸Šé‡/æ¾€è°·" },
            { name: "HARBS", type: "cafe", desc: "æ°´æœåƒå±¤è›‹ç³•ï¼Œçµ•å°å¿…åƒã€‚", link: "https://maps.app.goo.gl/11", area: "æ–°å®¿/å…­æœ¬æœ¨" },
            { name: "Blue Bottle Coffee", type: "cafe", desc: "è—ç“¶å’–å•¡ï¼Œåº—é¢è¨­è¨ˆæ¥µç°¡ã€‚", link: "https://maps.app.goo.gl/12", area: "æ¸…æ¾„ç™½æ²³/æ–°å®¿" },
            { name: "Qu'il fait bon", type: "cafe", desc: "è¯éº—æ°´æœå¡”ï¼Œä¾ç…§å­£ç¯€è®Šæ›ã€‚", link: "https://maps.app.goo.gl/13", area: "éŠ€åº§/æ™´ç©ºå¡”" },
            { name: "Bills", type: "cafe", desc: "ä¸–ç•Œç¬¬ä¸€æ—©é¤ï¼Œé¬†é¤…ç¶¿å¯†ã€‚", link: "https://maps.app.goo.gl/14", area: "å°å ´/è¡¨åƒé“" },
            { name: "æ·ºè‰ç‚¸è‚‰é¤…", type: "meat", desc: "ä»²è¦‹ä¸–é€šå¿…åƒå°åƒï¼Œå¤šæ±ç‡™å£ã€‚", link: "https://maps.app.goo.gl/15", area: "æ·ºè‰" },
            { name: "èŠ±æœˆå ‚", type: "cafe", desc: "è¶…å¤§æ³¢è˜¿éºµåŒ…ï¼Œå¤–é…¥å…§è»Ÿã€‚", link: "https://maps.app.goo.gl/16", area: "æ·ºè‰" },
            { name: "æŒ½è‚‰èˆ‡ç±³", type: "meat", desc: "ç‚­çƒ¤æ¼¢å ¡æ’ï¼Œæ¥µé›£é ç´„çš„ç¾å‘³ã€‚", link: "https://maps.app.goo.gl/17", area: "æ¾€è°·" },
            { name: "Torikizoku é³¥è²´æ—", type: "meat", desc: "å‡ä¸€åƒ¹ä¸²ç‡’ï¼ŒCPå€¼ç‹ã€‚", link: "https://maps.app.goo.gl/18", area: "å„åœ°" },
            { name: "Tsujihan è¾»åŠ", type: "sushi", desc: "æµ·é®®ç å¯¶ç›’ä¸¼é£¯ï¼Œæ’éšŠä¹Ÿè¦åƒã€‚", link: "https://maps.app.goo.gl/19", area: "æ—¥æœ¬æ©‹" },
            { name: "Mister Donut", type: "cafe", desc: "èˆ‡å°ç£å£å‘³ä¸åŒï¼Œå¿…åƒPon de Ringã€‚", link: "https://maps.app.goo.gl/20", area: "å„åœ°" }
        ];

        const checklistItems = [
            "è­·ç…§ (æœ‰æ•ˆæœŸ6å€‹æœˆä»¥ä¸Š)", "Visit Japan Web ç™»éŒ„ (å…¥å¢ƒ/æµ·é—œ)", "æ©Ÿç¥¨é›»å­æª”å­˜æ‰‹æ©Ÿ", "é£¯åº—é ç´„ç¢ºèªå–®",
            "Suica (è¥¿ç“œå¡) / PASMO (ç¶å®šæ‰‹æ©Ÿ)", "ç¶²å¡ / E-sim (åƒåˆ°é£½å»ºè­°)", "æ—¥å¹£ç¾é‡‘ (ç´„5-10è¬å††)", "ä¿¡ç”¨å¡ (æµ·å¤–å›é¥‹é«˜)",
            "å€‹äººè—¥å“ (æ„Ÿå†’/è…¸èƒƒ/æ­¢ç—›)", "è¡Œå‹•é›»æº & å……é›»ç·š", "è¼•ä¾¿é›¨å‚˜/é›¨è¡£ (æ¢…é›¨å­£å¿…å‚™)", "å¥½èµ°çš„é‹å­ (æ¯æ—¥2è¬æ­¥)",
            "è¿ªå£«å°¼ APP ä¸‹è¼‰", "ç’°ä¿è³¼ç‰©è¢‹"
        ];

        // --- CHART INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderFlightChart();
            renderHotels();
            switchDay(1); // Default to Day 1
            renderFood('all');
            renderChecklist();
        });

        function renderFlightChart() {
            const ctx = document.getElementById('flightChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ˜Ÿå®‡ (Starlux)', 'é•·æ¦® (EVA)', 'è™èˆª (Tiger)', 'æ—¥èˆª (JAL)'],
                    datasets: [{
                        label: 'å¹³å‡ç¥¨åƒ¹ (TWD)',
                        data: [18500, 16800, 11000, 19500],
                        backgroundColor: [
                            'rgba(190, 18, 60, 0.7)', // Rose
                            'rgba(16, 185, 129, 0.7)', // Green
                            'rgba(245, 158, 11, 0.7)', // Amber
                            'rgba(59, 130, 246, 0.7)'  // Blue
                        ],
                        borderColor: [
                            'rgb(190, 18, 60)',
                            'rgb(16, 185, 129)',
                            'rgb(245, 158, 11)',
                            'rgb(59, 130, 246)'
                        ],
                        borderWidth: 1
                    }, {
                        label: 'èˆ’é©åº¦è©•åˆ† (1-10)',
                        data: [9.5, 8.5, 6.0, 9.0],
                        type: 'line',
                        yAxisID: 'y1',
                        borderColor: '#1e293b',
                        tension: 0.4,
                        pointBackgroundColor: '#fff',
                        pointRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'ç¥¨åƒ¹ (TWD)' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            min: 0,
                            max: 10,
                            grid: { drawOnChartArea: false },
                            title: { display: true, text: 'èˆ’é©åº¦' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    }
                }
            });
        }

        // --- RENDER FUNCTIONS ---
        function renderHotels() {
            const container = document.getElementById('hotel-list');
            container.innerHTML = hotels.map(hotel => `
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex flex-col justify-between hover:border-rose-200 transition-colors">
                    <div>
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-bold text-slate-800">${hotel.name}</h4>
                            <span class="text-xs font-bold px-2 py-1 bg-slate-100 rounded text-slate-600">${hotel.type}</span>
                        </div>
                        <div class="flex flex-wrap gap-1 mb-3">
                            ${hotel.tags.map(tag => `<span class="text-[10px] px-1.5 py-0.5 bg-rose-50 text-rose-600 rounded border border-rose-100">${tag}</span>`).join('')}
                        </div>
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <span class="text-sm font-bold text-slate-500">${hotel.price}</span>
                        <a href="${hotel.link}" target="_blank" class="text-xs text-white bg-slate-800 hover:bg-rose-600 px-3 py-1.5 rounded transition-colors">æŸ¥çœ‹åœ°åœ–</a>
                    </div>
                </div>
            `).join('');
        }

        function switchDay(day) {
            // Update Tabs
            document.querySelectorAll('.day-tab').forEach(tab => {
                tab.classList.remove('tab-active', 'bg-rose-600', 'text-white', 'shadow-md');
                tab.classList.add('bg-white', 'text-slate-600');
            });
            const activeTab = document.getElementById(`tab-day${day}`);
            activeTab.classList.remove('bg-white', 'text-slate-600');
            activeTab.classList.add('tab-active');

            // Render Timeline
            const container = document.getElementById('timeline-container');
            const dayEvents = itineraryData[day];
            
            let html = `<div class="timeline-line"></div>`;
            
            html += dayEvents.map((event, index) => {
                const isLeft = index % 2 === 0;
                const typeColors = {
                    transport: "bg-slate-100 border-slate-300 text-slate-600",
                    activity: "bg-indigo-50 border-indigo-200 text-indigo-800",
                    food: "bg-amber-50 border-amber-200 text-amber-800",
                    stay: "bg-emerald-50 border-emerald-200 text-emerald-800",
                    highlight: "bg-rose-50 border-rose-200 text-rose-800"
                };
                const colorClass = typeColors[event.type] || typeColors.activity;
                
                return `
                <div class="relative z-10 mb-8 flex items-center w-full ${isLeft ? 'flex-row-reverse' : ''}">
                    <div class="w-1/2 ${isLeft ? 'pl-8 text-left' : 'pr-8 text-right'}">
                        <!-- Empty for spacing -->
                    </div>
                    
                    <div class="absolute left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full bg-white border-4 border-slate-200 flex items-center justify-center text-sm shadow-sm z-20">
                        ${index + 1}
                    </div>
                    
                    <div class="w-1/2 ${isLeft ? 'pr-8' : 'pl-8'}">
                        <div class="p-4 rounded-xl border shadow-sm ${colorClass} hover:shadow-md transition-shadow relative group">
                            <span class="absolute top-2 right-2 text-2xl opacity-20">${event.icon}</span>
                            <div class="font-bold text-lg mb-1">${event.time} ${event.title}</div>
                            <p class="text-sm opacity-90 mb-2">${event.desc}</p>
                            ${event.link ? `<a href="${event.link}" target="_blank" class="text-xs font-bold underline decoration-2 underline-offset-2 hover:text-black">Google Maps &rarr;</a>` : ''}
                        </div>
                    </div>
                </div>
                `;
            }).join('');

            container.innerHTML = html;
        }

        function filterFood(type) {
            // Update buttons
            document.querySelectorAll('.food-filter').forEach(btn => {
                if (btn.dataset.type === type) {
                    btn.classList.add('bg-slate-800', 'text-white');
                    btn.classList.remove('bg-white', 'text-slate-600');
                } else {
                    btn.classList.remove('bg-slate-800', 'text-white');
                    btn.classList.add('bg-white', 'text-slate-600');
                }
            });

            renderFood(type);
        }

        function renderFood(type) {
            const container = document.getElementById('food-grid');
            const filtered = type === 'all' ? foods : foods.filter(f => f.type === type);
            
            const typeLabels = {
                ramen: "ğŸœ æ‹‰éºµ", sushi: "ğŸ£ å£½å¸", meat: "ğŸ¥© è‚‰é¡", cafe: "ğŸ° ç”œé»"
            };

            container.innerHTML = filtered.map(food => `
                <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden card-hover group">
                    <div class="h-2 bg-gradient-to-r from-indigo-500 to-purple-500"></div>
                    <div class="p-5">
                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-semibold text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded">${typeLabels[food.type] || food.type}</span>
                            <span class="text-xs text-slate-400">ğŸ“ ${food.area}</span>
                        </div>
                        <h4 class="font-bold text-lg text-slate-800 mb-2 group-hover:text-indigo-600 transition-colors">${food.name}</h4>
                        <p class="text-sm text-slate-500 mb-4 line-clamp-2">${food.desc}</p>
                        <a href="${food.link}" target="_blank" class="block w-full text-center py-2 rounded-lg bg-slate-50 text-slate-600 font-medium hover:bg-slate-800 hover:text-white transition-colors text-sm">
                            åœ¨åœ°åœ–ä¸ŠæŸ¥çœ‹
                        </a>
                    </div>
                </div>
            `).join('');
        }

        function renderChecklist() {
            const container = document.getElementById('checklist-container');
            container.innerHTML = checklistItems.map((item, index) => `
                <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-50 cursor-pointer border border-transparent hover:border-slate-100 transition-colors">
                    <input type="checkbox" onchange="updateProgress()" class="form-checkbox h-5 w-5 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500 transition duration-150 ease-in-out">
                    <span class="text-slate-700 select-none">${item}</span>
                </label>
            `).join('');
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('#checklist-container input[type="checkbox"]');
            const checked = document.querySelectorAll('#checklist-container input[type="checkbox"]:checked');
            const percentage = Math.round((checked.length / checkboxes.length) * 100);
            
            document.getElementById('progress-bar').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${percentage}%`;
        }

        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                const navHeight = 64; 
                const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
                window.scrollTo({
                    top: elementPosition - navHeight - 20,
                    behavior: "smooth"
                });
            }
        }
    </script>
</body>
</html>